/*!
*  deventor 1.0.0 2018-02-25
*  A pure Javascript event emitter
*  git: git+https://github.com/Naimikan/deventor.git
*/

!function(){"use strict";window.Deventor=function(){var e="Deventor:";function t(e){var n={},i=(e=e||{}).name?e.name:"deventor-"+(new Date).getTime(),s=e.maxListeners&&Number.isInteger(e.maxListeners)?e.maxListeners:t.defaultMaxListeners;this.getDeventorName=function(){return i},this.setDeventorName=function(e){i=e},this.getMaxListeners=function(){return s},this.setMaxListeners=function(e){var n=s;return s=e,this.emit(t.DEVENTOR_EVENTS.SET_MAX_LISTENERS,{oldMaxListeners:n,newMaxListeners:s}),this},this.getEventNames=function(){return Object.keys(n)},this.getListenersByEventName=function(e){return n[e]},this.on=function(e,i){return"object"!=typeof n[e]&&(n[e]=[]),this.emit(t.DEVENTOR_EVENTS.NEW_LISTENER,{eventName:e,listener:i}),n[e].push(i),n[e].length>s&&console.warn("Max. listeners exceeded to '"+e+"' event. Max. listeners = "+s+". Take care of memory leaks."),this},this.once=function(e,t){return this.on(e,function n(){this.off(e,n),t.apply(this,arguments)}),this},this.off=function(e,i){if("object"==typeof n[e]){var s=n[e].indexOf(i);if(s>-1){var r=n[e][s];n[e].splice(s,1),this.emit(t.DEVENTOR_EVENTS.REMOVE_LISTENER,{eventName:e,listener:r})}}return this},this.emit=function(e){var t=[].slice.call(arguments,1);if("object"==typeof n[e])for(var i=n[e].slice(),s=i.length,r=0;r<s;r++)i[r].apply(this,t);return this},this.removeAllListeners=function(){for(var e in n)if(n.hasOwnProperty(e))for(var t=0;t<n[e].length;t++)this.off(e,n[e][t]);return this},this.addListener=function(e,t){return this.on(e,t)},this.removeListener=function(e,t){return this.off(e,t)}}return t.defaultMaxListeners=10,t.DEVENTOR_EVENTS={NEW_LISTENER:e+"newListener",REMOVE_LISTENER:e+"removeListener",SET_MAX_LISTENERS:e+"setMaxListeners"},t}()}();